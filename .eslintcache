[{"/mnt/c/Users/sammy/dev/flatiron/projects/my-mtv/src/App.js":"1","/mnt/c/Users/sammy/dev/flatiron/projects/my-mtv/src/YoutubeContainer.js":"2","/mnt/c/Users/sammy/dev/flatiron/projects/my-mtv/src/config.js":"3"},{"size":3328,"mtime":1608070048188,"results":"4","hashOfConfig":"5"},{"size":2201,"mtime":1608069235521,"results":"6","hashOfConfig":"5"},{"size":595,"mtime":1608068932080,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"11pqdvg",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/Users/sammy/dev/flatiron/projects/my-mtv/src/App.js",["15"],"import React, { Component } from \"react\";\nimport * as Constants from \"./config.js\";\nimport hash from \"./hash\";\nimport Player from \"./Player\";\nimport YoutubeContainer from './YoutubeContainer'\nimport Canvas from './Canvas'\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            token: null,\n            item: {\n                album: {\n                images: [{ url: \"\" }]\n                },\n                name: \"\",\n                artists: [{ name: \"\" }],\n                duration_ms: 0\n            },\n            is_playing: \"Paused\",\n            progress_ms: 0,\n            no_data: false,\n        };\n        this.getCurrentlyPlaying = this.getCurrentlyPlaying.bind(this);\n        this.tick = this.tick.bind(this);\n    }\n\n    componentDidMount() {\n        let _token = hash.access_token;\n        if (_token) {\n            this.setState({\n                token: _token\n            });\n            this.getCurrentlyPlaying(_token);\n        }\n        this.interval = setInterval(() => this.tick(), 5000);\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n\n    tick() {\n        if(this.state.token) {\n            this.getCurrentlyPlaying(this.state.token);\n        }\n    }\n\n    getCurrentlyPlaying(token) {\n        fetch(\"https://api.spotify.com/v1/me/player\", {\n            method: \"GET\",\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        })\n        .then(res => res.json())\n        .then(data => {\n            if(!data) {\n                this.setState({\n                    no_data: true,\n                });\n                return;\n            }\n            this.setState({\n                item: data.item,\n                is_playing: data.is_playing,\n                progress_ms: data.progress_ms,\n                no_data: false /* We need to \"reset\" the boolean, in case the\n                                    user does not give F5 and has opened his Spotify. */\n            })\n        })\n    }\n\n    render() {\n        const { token, item, no_data } = this.state\n        return (\n            <div>\n                <header className=\"App-header\">\n                    {!token && (\n                        <>\n                            <a id=\"login\" className=\"btn btn--loginApp-link\" href={`${Constants.authEndpoint}?client_id=${Constants.clientId}&redirect_uri=${Constants.redirectUri}&scope=${Constants.scopes.join(\n                                \"%20\")}&response_type=token&show_dialog=true`}>Login to Spotify\n                            </a>\n                            {/* <Canvas /> */}\n                        </>)}\n                    {token && !no_data && (\n                        <>\n                            <Player item={item} is_playing={this.state.is_playing} progress_ms={this.state.progress_ms} />\n                            <YoutubeContainer item={item} is_playing={this.state.is_playing} progress_ms={this.state.progress_ms} />\n                        </>\n                    )}\n                    {no_data && (\n                        <p>\n                            You need to be playing a song on Spotify, for something to appear here.\n                        </p>\n                    )}\n                </header>\n            </div>\n        );\n    }\n}\n\nexport default App;","/mnt/c/Users/sammy/dev/flatiron/projects/my-mtv/src/YoutubeContainer.js",[],"/mnt/c/Users/sammy/dev/flatiron/projects/my-mtv/src/config.js",[],{"ruleId":"16","severity":1,"message":"17","line":6,"column":8,"nodeType":"18","messageId":"19","endLine":6,"endColumn":14},"no-unused-vars","'Canvas' is defined but never used.","Identifier","unusedVar"]